{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/anuraj.k/Documents/personal/freelance/sfc/sfc-frontend/src/lib/api.ts"],"sourcesContent":["import Cookies from \"js-cookie\";\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000/api/v1\";\n\ninterface ApiResponse<T> {\n  data?: T;\n  error?: {\n    message: string;\n    code?: string;\n  };\n}\n\ninterface RequestConfig extends RequestInit {\n  token?: string;\n}\n\nasync function request<T>(endpoint: string, config: RequestConfig = {}): Promise<ApiResponse<T>> {\n  const { token, ...fetchConfig } = config;\n\n  const headers: Record<string, string> = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  // Merge any additional headers from config\n  if (config.headers) {\n    const configHeaders = config.headers as Record<string, string>;\n    Object.assign(headers, configHeaders);\n  }\n\n  // Add authorization header if token is provided or exists in cookies\n  const authToken = token || Cookies.get(\"access_token\");\n  if (authToken) {\n    headers[\"Authorization\"] = `Bearer ${authToken}`;\n  }\n\n  try {\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      ...fetchConfig,\n      headers,\n    });\n\n    const data = await response.json().catch(() => null);\n\n    if (!response.ok) {\n      const errorMessage = data?.detail?.message || data?.detail || data?.message || \"An error occurred\";\n      const errorCode = data?.detail?.code || data?.code;\n      return {\n        error: {\n          message: errorMessage,\n          code: errorCode,\n        },\n      };\n    }\n\n    return { data };\n  } catch (error) {\n    console.error(\"API request failed:\", error);\n    return {\n      error: {\n        message: \"Network error. Please check your connection.\",\n      },\n    };\n  }\n}\n\nexport const api = {\n  get: <T>(endpoint: string, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"GET\" }),\n\n  post: <T>(endpoint: string, body?: unknown, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"POST\", body: JSON.stringify(body) }),\n\n  put: <T>(endpoint: string, body?: unknown, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"PUT\", body: JSON.stringify(body) }),\n\n  patch: <T>(endpoint: string, body?: unknown, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"PATCH\", body: JSON.stringify(body) }),\n\n  delete: <T>(endpoint: string, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"DELETE\" }),\n};\n\n// Auth API\nexport const authApi = {\n  signup: (data: {\n    email: string;\n    password: string;\n    privacy_consent: boolean;\n    data_processing_consent: boolean;\n    marketing_consent?: boolean;\n  }) => api.post<{ message: string; user_id: string; email: string }>(\"/auth/signup\", data),\n\n  verifyOtp: (data: { email: string; code: string }) =>\n    api.post<{ access_token: string; refresh_token: string; expires_in: number }>(\"/auth/verify-otp\", data),\n\n  resendOtp: (data: { email: string }) => api.post<{ message: string }>(\"/auth/resend-otp\", data),\n\n  signin: (data: { email: string; password: string }) =>\n    api.post<{ access_token: string; refresh_token: string; expires_in: number }>(\"/auth/signin\", data),\n\n  refresh: (data: { refresh_token: string }) =>\n    api.post<{ access_token: string; refresh_token: string; expires_in: number }>(\"/auth/refresh\", data),\n\n  logout: (data: { refresh_token: string }) => api.post<{ message: string }>(\"/auth/logout\", data),\n\n  forgotPassword: (data: { email: string }) => api.post<{ message: string }>(\"/auth/forgot-password\", data),\n\n  resetPassword: (data: { email: string; code: string; new_password: string }) =>\n    api.post<{ message: string }>(\"/auth/reset-password\", data),\n\n  changePassword: (data: { current_password: string; new_password: string }) =>\n    api.post<{ message: string }>(\"/auth/change-password\", data),\n\n  getMe: () =>\n    api.get<{\n      id: string;\n      email: string;\n      role: string;\n      is_active: boolean;\n      is_verified: boolean;\n      created_at: string;\n    }>(\"/auth/me\"),\n\n  getStatus: () =>\n    api.get<{\n      user: {\n        id: string;\n        email: string;\n        role: string;\n        is_active: boolean;\n        is_verified: boolean;\n        created_at: string;\n      };\n      has_profile: boolean;\n      onboarding_completed: boolean;\n    }>(\"/auth/status\"),\n};\n\n// User API\nexport const userApi = {\n  completeOnboarding: (data: {\n    display_name?: string;\n    age_range?: string;\n    gender?: string;\n    height_cm?: number;\n    weight_kg?: number;\n    fitness_level?: string;\n    primary_goal?: string;\n    secondary_goals?: string[];\n    days_per_week?: number;\n    minutes_per_session?: number;\n    preferred_days?: string[];\n    injuries?: string;\n    equipment_available?: string[];\n    workout_location?: string;\n    prefers_cardio?: boolean;\n    prefers_strength?: boolean;\n    interested_in_yoga?: boolean;\n    health_disclaimer_accepted: boolean;\n  }) => api.post<UserProfile>(\"/users/onboarding\", data),\n\n  getProfile: () => api.get<UserProfile>(\"/users/profile\"),\n\n  updateProfile: (data: Partial<UserProfile>) => api.put<UserProfile>(\"/users/profile\", data),\n};\n\n// Programs API\nexport const programsApi = {\n  list: (params?: { goal?: string; difficulty?: string; featured?: boolean; limit?: number; offset?: number }) => {\n    const searchParams = new URLSearchParams();\n    if (params?.goal) searchParams.append(\"goal\", params.goal);\n    if (params?.difficulty) searchParams.append(\"difficulty\", params.difficulty);\n    if (params?.featured) searchParams.append(\"featured\", \"true\");\n    if (params?.limit) searchParams.append(\"limit\", params.limit.toString());\n    if (params?.offset) searchParams.append(\"offset\", params.offset.toString());\n    const queryString = searchParams.toString();\n    return api.get<Program[]>(`/programs${queryString ? `?${queryString}` : \"\"}`);\n  },\n\n  getFeatured: (limit = 6) => api.get<Program[]>(`/programs/featured?limit=${limit}`),\n\n  getRecommended: (limit = 6) =>\n    api.get<{ programs: Program[]; reason: string }>(`/programs/recommended?limit=${limit}`),\n\n  getContinue: () => api.get<{ enrollments: EnrollmentProgress[] }>(\"/programs/continue\"),\n\n  getById: (id: string) =>\n    api.get<Program & { workouts: Workout[]; total_workouts: number }>(`/programs/${id}`),\n\n  enroll: (programId: string) =>\n    api.post<{ enrollment_id: string; program_id: string; message: string }>(`/programs/${programId}/enroll`),\n\n  unenroll: (programId: string) => api.delete<{ message: string }>(`/programs/${programId}/enroll`),\n\n  getProgress: (programId: string) => api.get<EnrollmentProgress>(`/programs/${programId}/progress`),\n\n  getWorkoutsWithProgress: (programId: string) =>\n    api.get<WorkoutWithProgress[]>(`/programs/${programId}/workouts`),\n\n  markWorkoutComplete: (\n    workoutId: string,\n    data?: {\n      duration_minutes?: number;\n      rating?: number;\n      difficulty_felt?: string;\n      notes?: string;\n    }\n  ) =>\n    api.post<{\n      completion_id: string;\n      workout_id: string;\n      next_workout_id?: string;\n      program_completed: boolean;\n      message: string;\n    }>(`/programs/workouts/${workoutId}/complete`, data || {}),\n};\n\n// Admin API\nexport const adminApi = {\n  listPrograms: (params?: { include_unpublished?: boolean; limit?: number; offset?: number }) => {\n    const searchParams = new URLSearchParams();\n    if (params?.include_unpublished !== undefined)\n      searchParams.append(\"include_unpublished\", params.include_unpublished.toString());\n    if (params?.limit) searchParams.append(\"limit\", params.limit.toString());\n    if (params?.offset) searchParams.append(\"offset\", params.offset.toString());\n    const queryString = searchParams.toString();\n    return api.get<Program[]>(`/admin/programs${queryString ? `?${queryString}` : \"\"}`);\n  },\n\n  createProgram: (data: CreateProgramData) =>\n    api.post<Program & { workouts: Workout[]; total_workouts: number }>(\"/admin/programs\", data),\n\n  getProgram: (id: string) =>\n    api.get<Program & { workouts: Workout[]; total_workouts: number }>(`/admin/programs/${id}`),\n\n  updateProgram: (id: string, data: Partial<UpdateProgramData>) =>\n    api.put<Program>(`/admin/programs/${id}`, data),\n\n  deleteProgram: (id: string) => api.delete<{ message: string }>(`/admin/programs/${id}`),\n\n  publishProgram: (id: string) => api.post<Program>(`/admin/programs/${id}/publish`),\n\n  unpublishProgram: (id: string) => api.post<Program>(`/admin/programs/${id}/unpublish`),\n\n  addWorkout: (programId: string, data: CreateWorkoutData) =>\n    api.post<Workout>(`/admin/programs/${programId}/workouts`, data),\n\n  updateWorkout: (workoutId: string, data: Partial<UpdateWorkoutData>) =>\n    api.put<Workout>(`/admin/workouts/${workoutId}`, data),\n\n  deleteWorkout: (workoutId: string) => api.delete<{ message: string }>(`/admin/workouts/${workoutId}`),\n\n  getWorkout: (workoutId: string) => api.get<Workout>(`/admin/workouts/${workoutId}`),\n};\n\n// Types\nexport interface Program {\n  id: string;\n  title: string;\n  description?: string;\n  thumbnail_url?: string;\n  goal: string;\n  difficulty: string;\n  equipment_needed?: string[];\n  duration_weeks: number;\n  days_per_week: number;\n  minutes_per_session: number;\n  is_featured: boolean;\n  is_published: boolean;\n  order_index: number;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Workout {\n  id: string;\n  program_id: string;\n  week_number: number;\n  day_number: number;\n  title: string;\n  description?: string;\n  intensity: string;\n  duration_minutes: number;\n  video_url: string;\n  video_title?: string;\n  video_thumbnail?: string;\n  calories_estimate?: number;\n  equipment_needed?: string[];\n  tags?: string[];\n  is_rest_day: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface WorkoutWithProgress extends Workout {\n  is_completed: boolean;\n  completed_at?: string;\n  is_locked: boolean;\n}\n\nexport interface EnrollmentProgress {\n  enrollment_id: string;\n  program: Program;\n  current_day: number;\n  total_days: number;\n  progress_percent: number;\n  workouts_completed: number;\n  total_minutes_completed: number;\n  streak_days: number;\n  started_at: string;\n  last_workout_at?: string;\n  is_active: boolean;\n  completed_at?: string;\n  next_workout?: Workout;\n}\n\nexport interface UserProfile {\n  id: string;\n  user_id: string;\n  display_name?: string;\n  age_range?: string;\n  gender?: string;\n  height_cm?: number;\n  weight_kg?: number;\n  fitness_level?: string;\n  primary_goal?: string;\n  secondary_goals?: string[];\n  days_per_week?: number;\n  minutes_per_session?: number;\n  preferred_days?: string[];\n  injuries?: string;\n  equipment_available?: string[];\n  workout_location?: string;\n  prefers_cardio?: boolean;\n  prefers_strength?: boolean;\n  interested_in_yoga?: boolean;\n  health_disclaimer_accepted_at?: string;\n  onboarding_completed_at?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface CreateProgramData {\n  title: string;\n  description?: string;\n  thumbnail_url?: string;\n  goal: string;\n  difficulty: string;\n  equipment_needed?: string[];\n  duration_weeks: number;\n  days_per_week: number;\n  minutes_per_session: number;\n  is_featured?: boolean;\n  workouts?: CreateWorkoutData[];\n}\n\nexport interface UpdateProgramData {\n  title?: string;\n  description?: string;\n  thumbnail_url?: string;\n  goal?: string;\n  difficulty?: string;\n  equipment_needed?: string[];\n  duration_weeks?: number;\n  days_per_week?: number;\n  minutes_per_session?: number;\n  is_featured?: boolean;\n  is_published?: boolean;\n  order_index?: number;\n}\n\nexport interface CreateWorkoutData {\n  week_number: number;\n  day_number: number;\n  title: string;\n  description?: string;\n  intensity: string;\n  duration_minutes: number;\n  video_url: string;\n  video_title?: string;\n  video_thumbnail?: string;\n  calories_estimate?: number;\n  equipment_needed?: string[];\n  tags?: string[];\n  is_rest_day?: boolean;\n}\n\nexport interface UpdateWorkoutData {\n  title?: string;\n  description?: string;\n  intensity?: string;\n  duration_minutes?: number;\n  video_url?: string;\n  video_title?: string;\n  video_thumbnail?: string;\n  calories_estimate?: number;\n  equipment_needed?: string[];\n  tags?: string[];\n  is_rest_day?: boolean;\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///Users/anuraj.k/Documents/personal/freelance/sfc/sfc-frontend/src/store/auth.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport Cookies from \"js-cookie\";\nimport { authApi, userApi, type UserProfile } from \"@/lib/api\";\n\ninterface User {\n  id: string;\n  email: string;\n  role: \"member\" | \"admin\";\n  is_active: boolean;\n  is_verified: boolean;\n  created_at: string;\n}\n\ninterface AuthState {\n  user: User | null;\n  profile: UserProfile | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  hasCompletedOnboarding: boolean;\n\n  // Actions\n  setUser: (user: User | null) => void;\n  setProfile: (profile: UserProfile | null) => void;\n  setLoading: (isLoading: boolean) => void;\n\n  // Auth operations\n  login: (\n    email: string,\n    password: string,\n    rememberMe?: boolean\n  ) => Promise<{ success: boolean; error?: string; requiresOnboarding?: boolean }>;\n  signup: (\n    email: string,\n    password: string,\n    consents: { privacy: boolean; dataProcessing: boolean; marketing?: boolean }\n  ) => Promise<{ success: boolean; error?: string; userId?: string }>;\n  verifyOtp: (\n    email: string,\n    code: string,\n    rememberMe?: boolean\n  ) => Promise<{ success: boolean; error?: string; requiresOnboarding?: boolean }>;\n  logout: () => Promise<void>;\n  refreshAuth: () => Promise<boolean>;\n  checkAuth: () => Promise<void>;\n}\n\nconst TOKEN_EXPIRY_DAYS_REMEMBER = 30;\nconst TOKEN_EXPIRY_DAYS_SESSION = 1;\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set, get) => ({\n      user: null,\n      profile: null,\n      isAuthenticated: false,\n      isLoading: true,\n      hasCompletedOnboarding: false,\n\n      setUser: (user) =>\n        set({\n          user,\n          isAuthenticated: !!user,\n        }),\n\n      setProfile: (profile) =>\n        set({\n          profile,\n          hasCompletedOnboarding: !!profile?.onboarding_completed_at,\n        }),\n\n      setLoading: (isLoading) => set({ isLoading }),\n\n      login: async (email, password, rememberMe = false) => {\n        try {\n          const { data, error } = await authApi.signin({ email, password });\n\n          if (error) {\n            return { success: false, error: error.message };\n          }\n\n          if (data) {\n            const expiryDays = rememberMe ? TOKEN_EXPIRY_DAYS_REMEMBER : TOKEN_EXPIRY_DAYS_SESSION;\n            Cookies.set(\"access_token\", data.access_token, { expires: expiryDays });\n            Cookies.set(\"refresh_token\", data.refresh_token, { expires: expiryDays });\n\n            // Fetch user status\n            const statusResponse = await authApi.getStatus();\n            if (statusResponse.data) {\n              set({\n                user: statusResponse.data.user as User,\n                isAuthenticated: true,\n                hasCompletedOnboarding: statusResponse.data.onboarding_completed,\n              });\n\n              // Fetch profile if onboarding is completed\n              if (statusResponse.data.onboarding_completed) {\n                const profileResponse = await userApi.getProfile();\n                if (profileResponse.data) {\n                  set({ profile: profileResponse.data });\n                }\n              }\n\n              return {\n                success: true,\n                requiresOnboarding: !statusResponse.data.onboarding_completed,\n              };\n            }\n          }\n\n          return { success: false, error: \"Login failed\" };\n        } catch {\n          return { success: false, error: \"An unexpected error occurred\" };\n        }\n      },\n\n      signup: async (email, password, consents) => {\n        try {\n          const { data, error } = await authApi.signup({\n            email,\n            password,\n            privacy_consent: consents.privacy,\n            data_processing_consent: consents.dataProcessing,\n            marketing_consent: consents.marketing,\n          });\n\n          if (error) {\n            return { success: false, error: error.message };\n          }\n\n          if (data) {\n            return { success: true, userId: data.user_id };\n          }\n\n          return { success: false, error: \"Signup failed\" };\n        } catch {\n          return { success: false, error: \"An unexpected error occurred\" };\n        }\n      },\n\n      verifyOtp: async (email, code, rememberMe = false) => {\n        try {\n          const { data, error } = await authApi.verifyOtp({ email, code });\n\n          if (error) {\n            return { success: false, error: error.message };\n          }\n\n          if (data) {\n            const expiryDays = rememberMe ? TOKEN_EXPIRY_DAYS_REMEMBER : TOKEN_EXPIRY_DAYS_SESSION;\n            Cookies.set(\"access_token\", data.access_token, { expires: expiryDays });\n            Cookies.set(\"refresh_token\", data.refresh_token, { expires: expiryDays });\n\n            // Fetch user status\n            const statusResponse = await authApi.getStatus();\n            if (statusResponse.data) {\n              set({\n                user: statusResponse.data.user as User,\n                isAuthenticated: true,\n                hasCompletedOnboarding: statusResponse.data.onboarding_completed,\n              });\n\n              return {\n                success: true,\n                requiresOnboarding: !statusResponse.data.onboarding_completed,\n              };\n            }\n          }\n\n          return { success: false, error: \"Verification failed\" };\n        } catch {\n          return { success: false, error: \"An unexpected error occurred\" };\n        }\n      },\n\n      logout: async () => {\n        const refreshToken = Cookies.get(\"refresh_token\");\n        if (refreshToken) {\n          await authApi.logout({ refresh_token: refreshToken });\n        }\n\n        Cookies.remove(\"access_token\");\n        Cookies.remove(\"refresh_token\");\n\n        set({\n          user: null,\n          profile: null,\n          isAuthenticated: false,\n          hasCompletedOnboarding: false,\n        });\n      },\n\n      refreshAuth: async () => {\n        const refreshToken = Cookies.get(\"refresh_token\");\n        if (!refreshToken) return false;\n\n        try {\n          const { data, error } = await authApi.refresh({ refresh_token: refreshToken });\n\n          if (error || !data) {\n            get().logout();\n            return false;\n          }\n\n          Cookies.set(\"access_token\", data.access_token);\n          Cookies.set(\"refresh_token\", data.refresh_token);\n          return true;\n        } catch {\n          get().logout();\n          return false;\n        }\n      },\n\n      checkAuth: async () => {\n        set({ isLoading: true });\n\n        const accessToken = Cookies.get(\"access_token\");\n        if (!accessToken) {\n          set({ isLoading: false });\n          return;\n        }\n\n        try {\n          const { data, error } = await authApi.getStatus();\n\n          if (error) {\n            // Try to refresh\n            const refreshed = await get().refreshAuth();\n            if (refreshed) {\n              await get().checkAuth();\n              return;\n            }\n            set({ isLoading: false });\n            return;\n          }\n\n          if (data) {\n            set({\n              user: data.user as User,\n              isAuthenticated: true,\n              hasCompletedOnboarding: data.onboarding_completed,\n            });\n\n            if (data.onboarding_completed) {\n              const profileResponse = await userApi.getProfile();\n              if (profileResponse.data) {\n                set({ profile: profileResponse.data });\n              }\n            }\n          }\n        } catch {\n          get().logout();\n        } finally {\n          set({ isLoading: false });\n        }\n      },\n    }),\n    {\n      name: \"sfc-auth\",\n      partialize: (state) => ({\n        user: state.user,\n        isAuthenticated: state.isAuthenticated,\n        hasCompletedOnboarding: state.hasCompletedOnboarding,\n      }),\n    }\n  )\n);\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":["file:///Users/anuraj.k/Documents/personal/freelance/sfc/sfc-frontend/src/app/%28auth%29/verify-otp/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect, Suspense } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { motion } from \"framer-motion\";\nimport { ArrowRight, RefreshCw, Mail, CheckCircle } from \"lucide-react\";\nimport { Button, Card, Checkbox } from \"@/components/ui\";\nimport { useAuthStore } from \"@/store/auth\";\nimport { authApi } from \"@/lib/api\";\n\nfunction VerifyOTPContent() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const email = searchParams.get(\"email\") || \"\";\n\n  const { verifyOtp } = useAuthStore();\n\n  const [otp, setOtp] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\n  const [rememberMe, setRememberMe] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isResending, setIsResending] = useState(false);\n  const [resendSuccess, setResendSuccess] = useState(false);\n  const [resendCooldown, setResendCooldown] = useState(0);\n\n  const inputRefs = useRef<(HTMLInputElement | null)[]>([]);\n\n  useEffect(() => {\n    if (resendCooldown > 0) {\n      const timer = setTimeout(() => setResendCooldown(resendCooldown - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [resendCooldown]);\n\n  const handleOtpChange = (index: number, value: string) => {\n    if (value.length > 1) {\n      // Handle paste\n      const pastedValue = value.slice(0, 6).split(\"\");\n      const newOtp = [...otp];\n      pastedValue.forEach((char, i) => {\n        if (index + i < 6) {\n          newOtp[index + i] = char;\n        }\n      });\n      setOtp(newOtp);\n      const nextIndex = Math.min(index + pastedValue.length, 5);\n      inputRefs.current[nextIndex]?.focus();\n    } else {\n      const newOtp = [...otp];\n      newOtp[index] = value;\n      setOtp(newOtp);\n\n      // Auto-focus next input\n      if (value && index < 5) {\n        inputRefs.current[index + 1]?.focus();\n      }\n    }\n    setError(\"\");\n  };\n\n  const handleKeyDown = (index: number, e: React.KeyboardEvent) => {\n    if (e.key === \"Backspace\" && !otp[index] && index > 0) {\n      inputRefs.current[index - 1]?.focus();\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const code = otp.join(\"\");\n\n    if (code.length !== 6) {\n      setError(\"Please enter the complete 6-digit code\");\n      return;\n    }\n\n    setIsSubmitting(true);\n    setError(\"\");\n\n    const result = await verifyOtp(email, code, rememberMe);\n\n    if (result.success) {\n      if (result.requiresOnboarding) {\n        router.push(\"/onboarding\");\n      } else {\n        router.push(\"/dashboard\");\n      }\n    } else {\n      setError(result.error || \"Invalid verification code\");\n      setOtp([\"\", \"\", \"\", \"\", \"\", \"\"]);\n      inputRefs.current[0]?.focus();\n    }\n\n    setIsSubmitting(false);\n  };\n\n  const handleResend = async () => {\n    if (resendCooldown > 0) return;\n\n    setIsResending(true);\n    setError(\"\");\n    setResendSuccess(false);\n\n    const { error } = await authApi.resendOtp({ email });\n\n    if (error) {\n      setError(error.message);\n    } else {\n      setResendSuccess(true);\n      setResendCooldown(60);\n      setTimeout(() => setResendSuccess(false), 5000);\n    }\n\n    setIsResending(false);\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n    >\n      <Card className=\"p-8\">\n        <div className=\"text-center mb-8\">\n          <div className=\"w-16 h-16 rounded-full bg-primary-500/20 flex items-center justify-center mx-auto mb-4\">\n            <Mail className=\"w-8 h-8 text-primary-400\" />\n          </div>\n          <h1 className=\"text-2xl font-display font-bold text-dark-100\">\n            Check Your Email\n          </h1>\n          <p className=\"text-dark-400 mt-2\">\n            We&apos;ve sent a 6-digit verification code to\n          </p>\n          <p className=\"text-primary-400 font-medium\">{email}</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {error && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"p-4 rounded-xl bg-accent-rose/10 border border-accent-rose/20\"\n            >\n              <p className=\"text-sm text-accent-rose\">{error}</p>\n            </motion.div>\n          )}\n\n          {resendSuccess && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"p-4 rounded-xl bg-accent-emerald/10 border border-accent-emerald/20 flex items-center gap-2\"\n            >\n              <CheckCircle className=\"w-5 h-5 text-accent-emerald\" />\n              <p className=\"text-sm text-accent-emerald\">\n                Verification code resent successfully!\n              </p>\n            </motion.div>\n          )}\n\n          {/* OTP Input */}\n          <div className=\"flex justify-center gap-2 sm:gap-3\">\n            {otp.map((digit, index) => (\n              <input\n                key={index}\n                ref={(el) => {\n                  inputRefs.current[index] = el;\n                }}\n                type=\"text\"\n                inputMode=\"numeric\"\n                maxLength={6}\n                value={digit}\n                onChange={(e) => handleOtpChange(index, e.target.value.replace(/\\D/g, \"\"))}\n                onKeyDown={(e) => handleKeyDown(index, e)}\n                className=\"w-11 h-14 sm:w-12 sm:h-16 text-center text-2xl font-bold rounded-xl bg-dark-800/50 border border-dark-600 text-dark-100 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all\"\n              />\n            ))}\n          </div>\n\n          <Checkbox\n            label=\"Remember me on this device\"\n            checked={rememberMe}\n            onChange={(e) => setRememberMe(e.target.checked)}\n            className=\"justify-center\"\n          />\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            size=\"lg\"\n            isLoading={isSubmitting}\n            rightIcon={<ArrowRight className=\"w-5 h-5\" />}\n          >\n            Verify Email\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-dark-400 mb-2\">Didn&apos;t receive the code?</p>\n          <button\n            onClick={handleResend}\n            disabled={isResending || resendCooldown > 0}\n            className=\"inline-flex items-center gap-2 text-primary-400 hover:text-primary-300 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <RefreshCw className={`w-4 h-4 ${isResending ? \"animate-spin\" : \"\"}`} />\n            {resendCooldown > 0 ? `Resend in ${resendCooldown}s` : \"Resend Code\"}\n          </button>\n        </div>\n      </Card>\n    </motion.div>\n  );\n}\n\nexport default function VerifyOTPPage() {\n  return (\n    <Suspense\n      fallback={\n        <Card className=\"p-8 animate-pulse\">\n          <div className=\"h-16 w-16 rounded-full bg-dark-700 mx-auto mb-4\" />\n          <div className=\"h-8 bg-dark-700 rounded w-3/4 mx-auto mb-2\" />\n          <div className=\"h-4 bg-dark-700 rounded w-1/2 mx-auto\" />\n        </Card>\n      }\n    >\n      <VerifyOTPContent />\n    </Suspense>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}