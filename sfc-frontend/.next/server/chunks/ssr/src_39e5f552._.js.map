{"version":3,"sources":["../../../../node_modules/js-cookie/dist/js.cookie.mjs","../../../../src/lib/api.ts","../../../../node_modules/zustand/esm/react.mjs","../../../../node_modules/zustand/esm/vanilla.mjs","../../../../node_modules/zustand/esm/middleware.mjs","../../../../src/store/auth.ts"],"sourcesContent":["/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","import Cookies from \"js-cookie\";\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000/api/v1\";\n\ninterface ApiResponse<T> {\n  data?: T;\n  error?: {\n    message: string;\n    code?: string;\n  };\n}\n\ninterface RequestConfig extends RequestInit {\n  token?: string;\n}\n\nasync function request<T>(endpoint: string, config: RequestConfig = {}): Promise<ApiResponse<T>> {\n  const { token, ...fetchConfig } = config;\n\n  const headers: Record<string, string> = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  // Merge any additional headers from config\n  if (config.headers) {\n    const configHeaders = config.headers as Record<string, string>;\n    Object.assign(headers, configHeaders);\n  }\n\n  // Add authorization header if token is provided or exists in cookies\n  const authToken = token || Cookies.get(\"access_token\");\n  if (authToken) {\n    headers[\"Authorization\"] = `Bearer ${authToken}`;\n  }\n\n  try {\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      ...fetchConfig,\n      headers,\n    });\n\n    const data = await response.json().catch(() => null);\n\n    if (!response.ok) {\n      const errorMessage = data?.detail?.message || data?.detail || data?.message || \"An error occurred\";\n      const errorCode = data?.detail?.code || data?.code;\n      return {\n        error: {\n          message: errorMessage,\n          code: errorCode,\n        },\n      };\n    }\n\n    return { data };\n  } catch (error) {\n    console.error(\"API request failed:\", error);\n    return {\n      error: {\n        message: \"Network error. Please check your connection.\",\n      },\n    };\n  }\n}\n\nexport const api = {\n  get: <T>(endpoint: string, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"GET\" }),\n\n  post: <T>(endpoint: string, body?: unknown, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"POST\", body: JSON.stringify(body) }),\n\n  put: <T>(endpoint: string, body?: unknown, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"PUT\", body: JSON.stringify(body) }),\n\n  patch: <T>(endpoint: string, body?: unknown, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"PATCH\", body: JSON.stringify(body) }),\n\n  delete: <T>(endpoint: string, config?: RequestConfig) =>\n    request<T>(endpoint, { ...config, method: \"DELETE\" }),\n};\n\n// Auth API\nexport const authApi = {\n  signup: (data: {\n    email: string;\n    password: string;\n    privacy_consent: boolean;\n    data_processing_consent: boolean;\n    marketing_consent?: boolean;\n  }) => api.post<{ message: string; user_id: string; email: string }>(\"/auth/signup\", data),\n\n  verifyOtp: (data: { email: string; code: string }) =>\n    api.post<{ access_token: string; refresh_token: string; expires_in: number }>(\"/auth/verify-otp\", data),\n\n  resendOtp: (data: { email: string }) => api.post<{ message: string }>(\"/auth/resend-otp\", data),\n\n  signin: (data: { email: string; password: string }) =>\n    api.post<{ access_token: string; refresh_token: string; expires_in: number }>(\"/auth/signin\", data),\n\n  refresh: (data: { refresh_token: string }) =>\n    api.post<{ access_token: string; refresh_token: string; expires_in: number }>(\"/auth/refresh\", data),\n\n  logout: (data: { refresh_token: string }) => api.post<{ message: string }>(\"/auth/logout\", data),\n\n  forgotPassword: (data: { email: string }) => api.post<{ message: string }>(\"/auth/forgot-password\", data),\n\n  resetPassword: (data: { email: string; code: string; new_password: string }) =>\n    api.post<{ message: string }>(\"/auth/reset-password\", data),\n\n  changePassword: (data: { current_password: string; new_password: string }) =>\n    api.post<{ message: string }>(\"/auth/change-password\", data),\n\n  getMe: () =>\n    api.get<{\n      id: string;\n      email: string;\n      role: string;\n      is_active: boolean;\n      is_verified: boolean;\n      created_at: string;\n    }>(\"/auth/me\"),\n\n  getStatus: () =>\n    api.get<{\n      user: {\n        id: string;\n        email: string;\n        role: string;\n        is_active: boolean;\n        is_verified: boolean;\n        created_at: string;\n      };\n      has_profile: boolean;\n      onboarding_completed: boolean;\n    }>(\"/auth/status\"),\n};\n\n// User API\nexport const userApi = {\n  completeOnboarding: (data: {\n    display_name?: string;\n    age_range?: string;\n    gender?: string;\n    height_cm?: number;\n    weight_kg?: number;\n    fitness_level?: string;\n    primary_goal?: string;\n    secondary_goals?: string[];\n    days_per_week?: number;\n    minutes_per_session?: number;\n    preferred_days?: string[];\n    injuries?: string;\n    equipment_available?: string[];\n    workout_location?: string;\n    prefers_cardio?: boolean;\n    prefers_strength?: boolean;\n    interested_in_yoga?: boolean;\n    health_disclaimer_accepted: boolean;\n  }) => api.post<UserProfile>(\"/users/onboarding\", data),\n\n  getProfile: () => api.get<UserProfile>(\"/users/profile\"),\n\n  updateProfile: (data: Partial<UserProfile>) => api.put<UserProfile>(\"/users/profile\", data),\n};\n\n// Programs API\nexport const programsApi = {\n  list: (params?: { goal?: string; difficulty?: string; featured?: boolean; limit?: number; offset?: number }) => {\n    const searchParams = new URLSearchParams();\n    if (params?.goal) searchParams.append(\"goal\", params.goal);\n    if (params?.difficulty) searchParams.append(\"difficulty\", params.difficulty);\n    if (params?.featured) searchParams.append(\"featured\", \"true\");\n    if (params?.limit) searchParams.append(\"limit\", params.limit.toString());\n    if (params?.offset) searchParams.append(\"offset\", params.offset.toString());\n    const queryString = searchParams.toString();\n    return api.get<Program[]>(`/programs${queryString ? `?${queryString}` : \"\"}`);\n  },\n\n  getFeatured: (limit = 6) => api.get<Program[]>(`/programs/featured?limit=${limit}`),\n\n  getRecommended: (limit = 6) =>\n    api.get<{ programs: Program[]; reason: string }>(`/programs/recommended?limit=${limit}`),\n\n  getContinue: () => api.get<{ enrollments: EnrollmentProgress[] }>(\"/programs/continue\"),\n\n  getById: (id: string) =>\n    api.get<Program & { workouts: Workout[]; total_workouts: number }>(`/programs/${id}`),\n\n  enroll: (programId: string) =>\n    api.post<{ enrollment_id: string; program_id: string; message: string }>(`/programs/${programId}/enroll`),\n\n  unenroll: (programId: string) => api.delete<{ message: string }>(`/programs/${programId}/enroll`),\n\n  getProgress: (programId: string) => api.get<EnrollmentProgress>(`/programs/${programId}/progress`),\n\n  getWorkoutsWithProgress: (programId: string) =>\n    api.get<WorkoutWithProgress[]>(`/programs/${programId}/workouts`),\n\n  markWorkoutComplete: (\n    workoutId: string,\n    data?: {\n      duration_minutes?: number;\n      rating?: number;\n      difficulty_felt?: string;\n      notes?: string;\n    }\n  ) =>\n    api.post<{\n      completion_id: string;\n      workout_id: string;\n      next_workout_id?: string;\n      program_completed: boolean;\n      message: string;\n    }>(`/programs/workouts/${workoutId}/complete`, data || {}),\n};\n\n// Admin API\nexport const adminApi = {\n  listPrograms: (params?: { include_unpublished?: boolean; limit?: number; offset?: number }) => {\n    const searchParams = new URLSearchParams();\n    if (params?.include_unpublished !== undefined)\n      searchParams.append(\"include_unpublished\", params.include_unpublished.toString());\n    if (params?.limit) searchParams.append(\"limit\", params.limit.toString());\n    if (params?.offset) searchParams.append(\"offset\", params.offset.toString());\n    const queryString = searchParams.toString();\n    return api.get<Program[]>(`/admin/programs${queryString ? `?${queryString}` : \"\"}`);\n  },\n\n  createProgram: (data: CreateProgramData) =>\n    api.post<Program & { workouts: Workout[]; total_workouts: number }>(\"/admin/programs\", data),\n\n  getProgram: (id: string) =>\n    api.get<Program & { workouts: Workout[]; total_workouts: number }>(`/admin/programs/${id}`),\n\n  updateProgram: (id: string, data: Partial<UpdateProgramData>) =>\n    api.put<Program>(`/admin/programs/${id}`, data),\n\n  deleteProgram: (id: string) => api.delete<{ message: string }>(`/admin/programs/${id}`),\n\n  publishProgram: (id: string) => api.post<Program>(`/admin/programs/${id}/publish`),\n\n  unpublishProgram: (id: string) => api.post<Program>(`/admin/programs/${id}/unpublish`),\n\n  addWorkout: (programId: string, data: CreateWorkoutData) =>\n    api.post<Workout>(`/admin/programs/${programId}/workouts`, data),\n\n  updateWorkout: (workoutId: string, data: Partial<UpdateWorkoutData>) =>\n    api.put<Workout>(`/admin/workouts/${workoutId}`, data),\n\n  deleteWorkout: (workoutId: string) => api.delete<{ message: string }>(`/admin/workouts/${workoutId}`),\n\n  getWorkout: (workoutId: string) => api.get<Workout>(`/admin/workouts/${workoutId}`),\n};\n\n// Types\nexport interface Program {\n  id: string;\n  title: string;\n  description?: string;\n  thumbnail_url?: string;\n  goal: string;\n  difficulty: string;\n  equipment_needed?: string[];\n  duration_weeks: number;\n  days_per_week: number;\n  minutes_per_session: number;\n  is_featured: boolean;\n  is_published: boolean;\n  order_index: number;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Workout {\n  id: string;\n  program_id: string;\n  week_number: number;\n  day_number: number;\n  title: string;\n  description?: string;\n  intensity: string;\n  duration_minutes: number;\n  video_url: string;\n  video_title?: string;\n  video_thumbnail?: string;\n  calories_estimate?: number;\n  equipment_needed?: string[];\n  tags?: string[];\n  is_rest_day: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface WorkoutWithProgress extends Workout {\n  is_completed: boolean;\n  completed_at?: string;\n  is_locked: boolean;\n}\n\nexport interface EnrollmentProgress {\n  enrollment_id: string;\n  program: Program;\n  current_day: number;\n  total_days: number;\n  progress_percent: number;\n  workouts_completed: number;\n  total_minutes_completed: number;\n  streak_days: number;\n  started_at: string;\n  last_workout_at?: string;\n  is_active: boolean;\n  completed_at?: string;\n  next_workout?: Workout;\n}\n\nexport interface UserProfile {\n  id: string;\n  user_id: string;\n  display_name?: string;\n  age_range?: string;\n  gender?: string;\n  height_cm?: number;\n  weight_kg?: number;\n  fitness_level?: string;\n  primary_goal?: string;\n  secondary_goals?: string[];\n  days_per_week?: number;\n  minutes_per_session?: number;\n  preferred_days?: string[];\n  injuries?: string;\n  equipment_available?: string[];\n  workout_location?: string;\n  prefers_cardio?: boolean;\n  prefers_strength?: boolean;\n  interested_in_yoga?: boolean;\n  health_disclaimer_accepted_at?: string;\n  onboarding_completed_at?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface CreateProgramData {\n  title: string;\n  description?: string;\n  thumbnail_url?: string;\n  goal: string;\n  difficulty: string;\n  equipment_needed?: string[];\n  duration_weeks: number;\n  days_per_week: number;\n  minutes_per_session: number;\n  is_featured?: boolean;\n  workouts?: CreateWorkoutData[];\n}\n\nexport interface UpdateProgramData {\n  title?: string;\n  description?: string;\n  thumbnail_url?: string;\n  goal?: string;\n  difficulty?: string;\n  equipment_needed?: string[];\n  duration_weeks?: number;\n  days_per_week?: number;\n  minutes_per_session?: number;\n  is_featured?: boolean;\n  is_published?: boolean;\n  order_index?: number;\n}\n\nexport interface CreateWorkoutData {\n  week_number: number;\n  day_number: number;\n  title: string;\n  description?: string;\n  intensity: string;\n  duration_minutes: number;\n  video_url: string;\n  video_title?: string;\n  video_thumbnail?: string;\n  calories_estimate?: number;\n  equipment_needed?: string[];\n  tags?: string[];\n  is_rest_day?: boolean;\n}\n\nexport interface UpdateWorkoutData {\n  title?: string;\n  description?: string;\n  intensity?: string;\n  duration_minutes?: number;\n  video_url?: string;\n  video_title?: string;\n  video_thumbnail?: string;\n  calories_estimate?: number;\n  equipment_needed?: string[];\n  tags?: string[];\n  is_rest_day?: boolean;\n}\n\n","import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\nexport { create, useStore };\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nfunction ssrSafe(config, isSSR = typeof window === \"undefined\") {\n  return (set, get, api) => {\n    if (!isSSR) {\n      return config(set, get, api);\n    }\n    const ssrSet = () => {\n      throw new Error(\"Cannot set state of Zustand store in SSR\");\n    };\n    api.setState = ssrSet;\n    return config(ssrSet, get, api);\n  };\n}\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector, ssrSafe as unstable_ssrSafe };\n","import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport Cookies from \"js-cookie\";\nimport { authApi, userApi, type UserProfile } from \"@/lib/api\";\n\ninterface User {\n  id: string;\n  email: string;\n  role: \"member\" | \"admin\";\n  is_active: boolean;\n  is_verified: boolean;\n  created_at: string;\n}\n\ninterface AuthState {\n  user: User | null;\n  profile: UserProfile | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  hasCompletedOnboarding: boolean;\n\n  // Actions\n  setUser: (user: User | null) => void;\n  setProfile: (profile: UserProfile | null) => void;\n  setLoading: (isLoading: boolean) => void;\n\n  // Auth operations\n  login: (\n    email: string,\n    password: string,\n    rememberMe?: boolean\n  ) => Promise<{ success: boolean; error?: string; requiresOnboarding?: boolean }>;\n  signup: (\n    email: string,\n    password: string,\n    consents: { privacy: boolean; dataProcessing: boolean; marketing?: boolean }\n  ) => Promise<{ success: boolean; error?: string; userId?: string }>;\n  verifyOtp: (\n    email: string,\n    code: string,\n    rememberMe?: boolean\n  ) => Promise<{ success: boolean; error?: string; requiresOnboarding?: boolean }>;\n  logout: () => Promise<void>;\n  refreshAuth: () => Promise<boolean>;\n  checkAuth: () => Promise<void>;\n}\n\nconst TOKEN_EXPIRY_DAYS_REMEMBER = 30;\nconst TOKEN_EXPIRY_DAYS_SESSION = 1;\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set, get) => ({\n      user: null,\n      profile: null,\n      isAuthenticated: false,\n      isLoading: true,\n      hasCompletedOnboarding: false,\n\n      setUser: (user) =>\n        set({\n          user,\n          isAuthenticated: !!user,\n        }),\n\n      setProfile: (profile) =>\n        set({\n          profile,\n          hasCompletedOnboarding: !!profile?.onboarding_completed_at,\n        }),\n\n      setLoading: (isLoading) => set({ isLoading }),\n\n      login: async (email, password, rememberMe = false) => {\n        try {\n          const { data, error } = await authApi.signin({ email, password });\n\n          if (error) {\n            return { success: false, error: error.message };\n          }\n\n          if (data) {\n            const expiryDays = rememberMe ? TOKEN_EXPIRY_DAYS_REMEMBER : TOKEN_EXPIRY_DAYS_SESSION;\n            Cookies.set(\"access_token\", data.access_token, { expires: expiryDays });\n            Cookies.set(\"refresh_token\", data.refresh_token, { expires: expiryDays });\n\n            // Fetch user status\n            const statusResponse = await authApi.getStatus();\n            if (statusResponse.data) {\n              set({\n                user: statusResponse.data.user as User,\n                isAuthenticated: true,\n                hasCompletedOnboarding: statusResponse.data.onboarding_completed,\n              });\n\n              // Fetch profile if onboarding is completed\n              if (statusResponse.data.onboarding_completed) {\n                const profileResponse = await userApi.getProfile();\n                if (profileResponse.data) {\n                  set({ profile: profileResponse.data });\n                }\n              }\n\n              return {\n                success: true,\n                requiresOnboarding: !statusResponse.data.onboarding_completed,\n              };\n            }\n          }\n\n          return { success: false, error: \"Login failed\" };\n        } catch {\n          return { success: false, error: \"An unexpected error occurred\" };\n        }\n      },\n\n      signup: async (email, password, consents) => {\n        try {\n          const { data, error } = await authApi.signup({\n            email,\n            password,\n            privacy_consent: consents.privacy,\n            data_processing_consent: consents.dataProcessing,\n            marketing_consent: consents.marketing,\n          });\n\n          if (error) {\n            return { success: false, error: error.message };\n          }\n\n          if (data) {\n            return { success: true, userId: data.user_id };\n          }\n\n          return { success: false, error: \"Signup failed\" };\n        } catch {\n          return { success: false, error: \"An unexpected error occurred\" };\n        }\n      },\n\n      verifyOtp: async (email, code, rememberMe = false) => {\n        try {\n          const { data, error } = await authApi.verifyOtp({ email, code });\n\n          if (error) {\n            return { success: false, error: error.message };\n          }\n\n          if (data) {\n            const expiryDays = rememberMe ? TOKEN_EXPIRY_DAYS_REMEMBER : TOKEN_EXPIRY_DAYS_SESSION;\n            Cookies.set(\"access_token\", data.access_token, { expires: expiryDays });\n            Cookies.set(\"refresh_token\", data.refresh_token, { expires: expiryDays });\n\n            // Fetch user status\n            const statusResponse = await authApi.getStatus();\n            if (statusResponse.data) {\n              set({\n                user: statusResponse.data.user as User,\n                isAuthenticated: true,\n                hasCompletedOnboarding: statusResponse.data.onboarding_completed,\n              });\n\n              return {\n                success: true,\n                requiresOnboarding: !statusResponse.data.onboarding_completed,\n              };\n            }\n          }\n\n          return { success: false, error: \"Verification failed\" };\n        } catch {\n          return { success: false, error: \"An unexpected error occurred\" };\n        }\n      },\n\n      logout: async () => {\n        const refreshToken = Cookies.get(\"refresh_token\");\n        if (refreshToken) {\n          await authApi.logout({ refresh_token: refreshToken });\n        }\n\n        Cookies.remove(\"access_token\");\n        Cookies.remove(\"refresh_token\");\n\n        set({\n          user: null,\n          profile: null,\n          isAuthenticated: false,\n          hasCompletedOnboarding: false,\n        });\n      },\n\n      refreshAuth: async () => {\n        const refreshToken = Cookies.get(\"refresh_token\");\n        if (!refreshToken) return false;\n\n        try {\n          const { data, error } = await authApi.refresh({ refresh_token: refreshToken });\n\n          if (error || !data) {\n            get().logout();\n            return false;\n          }\n\n          Cookies.set(\"access_token\", data.access_token);\n          Cookies.set(\"refresh_token\", data.refresh_token);\n          return true;\n        } catch {\n          get().logout();\n          return false;\n        }\n      },\n\n      checkAuth: async () => {\n        set({ isLoading: true });\n\n        const accessToken = Cookies.get(\"access_token\");\n        if (!accessToken) {\n          set({ isLoading: false });\n          return;\n        }\n\n        try {\n          const { data, error } = await authApi.getStatus();\n\n          if (error) {\n            // Try to refresh\n            const refreshed = await get().refreshAuth();\n            if (refreshed) {\n              await get().checkAuth();\n              return;\n            }\n            set({ isLoading: false });\n            return;\n          }\n\n          if (data) {\n            set({\n              user: data.user as User,\n              isAuthenticated: true,\n              hasCompletedOnboarding: data.onboarding_completed,\n            });\n\n            if (data.onboarding_completed) {\n              const profileResponse = await userApi.getProfile();\n              if (profileResponse.data) {\n                set({ profile: profileResponse.data });\n              }\n            }\n          }\n        } catch {\n          get().logout();\n        } finally {\n          set({ isLoading: false });\n        }\n      },\n    }),\n    {\n      name: \"sfc-auth\",\n      partialize: (state) => ({\n        user: state.user,\n        isAuthenticated: state.isAuthenticated,\n        hasCompletedOnboarding: state.hasCompletedOnboarding,\n      }),\n    }\n  )\n);\n\n"],"names":[],"mappings":"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","ignoreList":[0,2,3,4]}