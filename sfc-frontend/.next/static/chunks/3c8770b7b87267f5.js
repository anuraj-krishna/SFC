(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},7233,27612,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233);let a=(0,t.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],27612)},48256,76986,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>s],48256);let a=(0,t.default)("GlobeLock",[["path",{d:"M15.686 15A14.5 14.5 0 0 1 12 22a14.5 14.5 0 0 1 0-20 10 10 0 1 0 9.542 13",key:"qkt0x6"}],["path",{d:"M2 12h8.5",key:"ovaggd"}],["path",{d:"M20 6V4a2 2 0 1 0-4 0v2",key:"1of5e8"}],["rect",{width:"8",height:"5",x:"14",y:"6",rx:"1",key:"1fmf51"}]]);e.s(["GlobeLock",()=>a],76986)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},27990,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),i=e.i(22016),l=e.i(46932),r=e.i(71689),n=e.i(7233),d=e.i(27612),o=e.i(56909),c=e.i(86536),u=e.i(48256),m=e.i(76986),h=e.i(88511);e.i(16787);var p=e.i(59544),x=e.i(3812),y=e.i(67073),k=e.i(39964),g=e.i(96359),v=e.i(96640),_=e.i(32098),j=e.i(9165),f=e.i(75157);let b=Object.entries(f.goalLabels).map(([e,t])=>({value:e,label:t})),w=Object.entries(f.difficultyLabels).map(([e,t])=>({value:e,label:t})),N=Object.entries(f.intensityLabels).map(([e,t])=>({value:e,label:t}));function C({params:e}){let C=(0,s.use)(e);(0,a.useRouter)();let[M,B]=(0,s.useState)(null),[I,P]=(0,s.useState)(!0),[S,A]=(0,s.useState)(!1),[z,D]=(0,s.useState)(""),[L,O]=(0,s.useState)({title:"",description:"",thumbnail_url:"",goal:"",difficulty:"",equipment_needed:"",duration_weeks:0,days_per_week:0,minutes_per_session:0,is_featured:!1}),[W,q]=(0,s.useState)(!1),[T,G]=(0,s.useState)({title:"",description:"",intensity:"medium",duration_minutes:30,video_url:"",is_rest_day:!1}),[R,E]=(0,s.useState)({isOpen:!1,workout:null});(0,s.useEffect)(()=>{H()},[C.id]);let H=async()=>{let{data:e}=await j.adminApi.getProgram(C.id);e&&(B(e),O({title:e.title,description:e.description||"",thumbnail_url:e.thumbnail_url||"",goal:e.goal,difficulty:e.difficulty,equipment_needed:e.equipment_needed?.join(", ")||"",duration_weeks:e.duration_weeks,days_per_week:e.days_per_week,minutes_per_session:e.minutes_per_session,is_featured:e.is_featured})),P(!1)},U=async()=>{A(!0),D("");let{error:e}=await j.adminApi.updateProgram(C.id,{title:L.title,description:L.description||void 0,thumbnail_url:L.thumbnail_url||void 0,goal:L.goal,difficulty:L.difficulty,equipment_needed:L.equipment_needed?L.equipment_needed.split(",").map(e=>e.trim()):void 0,duration_weeks:L.duration_weeks,days_per_week:L.days_per_week,minutes_per_session:L.minutes_per_session,is_featured:L.is_featured});e?D(e.message):await H(),A(!1)},V=async()=>{M&&(M.is_published?await j.adminApi.unpublishProgram(M.id):await j.adminApi.publishProgram(M.id),H())},$=async()=>{if(!M)return;let e=M.workouts.length+1,t=Math.ceil(e/M.days_per_week),{error:s}=await j.adminApi.addWorkout(M.id,{week_number:t,day_number:e,title:T.title||`Day ${e} Workout`,description:T.description||void 0,intensity:T.intensity,duration_minutes:T.duration_minutes,video_url:T.video_url||"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_rest_day:T.is_rest_day});s||(q(!1),G({title:"",description:"",intensity:"medium",duration_minutes:30,video_url:"",is_rest_day:!1}),H())},F=async()=>{if(!R.workout)return;let{error:e}=await j.adminApi.deleteWorkout(R.workout.id);e||(E({isOpen:!1,workout:null}),H())};return I?(0,t.jsx)("div",{className:"p-6 lg:p-8 max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,t.jsx)("div",{className:"h-8 bg-dark-700 rounded w-32"}),(0,t.jsx)("div",{className:"h-12 bg-dark-700 rounded w-3/4"}),(0,t.jsx)(k.Card,{className:"h-64"})]})}):M?(0,t.jsxs)("div",{className:"p-6 lg:p-8 max-w-4xl mx-auto",children:[(0,t.jsxs)(l.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,t.jsxs)(i.default,{href:"/admin/programs",className:"inline-flex items-center gap-2 text-dark-400 hover:text-white transition-colors mb-4",children:[(0,t.jsx)(r.ArrowLeft,{className:"w-5 h-5"}),"Back to Programs"]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-display font-bold text-dark-100",children:M.title}),(0,t.jsx)(v.Badge,{variant:M.is_published?"success":"default",children:M.is_published?"Published":"Draft"})]}),(0,t.jsxs)("p",{className:"text-dark-400",children:[M.total_workouts," workouts • ",M.duration_weeks," weeks"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.default,{href:`/programs/${M.id}`,target:"_blank",children:(0,t.jsx)(p.Button,{variant:"ghost",size:"sm",leftIcon:(0,t.jsx)(c.Eye,{className:"w-4 h-4"}),children:"Preview"})}),(0,t.jsx)(p.Button,{variant:"secondary",size:"sm",onClick:V,leftIcon:M.is_published?(0,t.jsx)(m.GlobeLock,{className:"w-4 h-4"}):(0,t.jsx)(u.Globe,{className:"w-4 h-4"}),children:M.is_published?"Unpublish":"Publish"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-8",children:[z&&(0,t.jsx)(l.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-accent-rose/10 border border-accent-rose/20",children:(0,t.jsx)("p",{className:"text-sm text-accent-rose",children:z})}),(0,t.jsxs)(k.Card,{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-dark-100 mb-6",children:"Program Details"}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsx)(x.Input,{label:"Title",value:L.title,onChange:e=>O({...L,title:e.target.value})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:L.description,onChange:e=>O({...L,description:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dark-800/50 border border-dark-600 text-dark-100 placeholder-dark-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all resize-none h-24"})]}),(0,t.jsx)(x.Input,{label:"Thumbnail URL",value:L.thumbnail_url,onChange:e=>O({...L,thumbnail_url:e.target.value})}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-5",children:[(0,t.jsx)(y.Select,{label:"Goal",options:b,value:L.goal,onChange:e=>O({...L,goal:e.target.value})}),(0,t.jsx)(y.Select,{label:"Difficulty",options:w,value:L.difficulty,onChange:e=>O({...L,difficulty:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-3 gap-5",children:[(0,t.jsx)(x.Input,{label:"Duration (weeks)",type:"number",value:L.duration_weeks,onChange:e=>O({...L,duration_weeks:parseInt(e.target.value)||1})}),(0,t.jsx)(x.Input,{label:"Days per Week",type:"number",value:L.days_per_week,onChange:e=>O({...L,days_per_week:parseInt(e.target.value)||1})}),(0,t.jsx)(x.Input,{label:"Minutes per Session",type:"number",value:L.minutes_per_session,onChange:e=>O({...L,minutes_per_session:parseInt(e.target.value)||30})})]}),(0,t.jsx)(x.Input,{label:"Equipment (comma-separated)",value:L.equipment_needed,onChange:e=>O({...L,equipment_needed:e.target.value})}),(0,t.jsx)(g.Checkbox,{label:"Featured Program",checked:L.is_featured,onChange:e=>O({...L,is_featured:e.target.checked})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(p.Button,{isLoading:S,onClick:U,leftIcon:(0,t.jsx)(o.Save,{className:"w-5 h-5"}),children:"Save Changes"})})]})]}),(0,t.jsxs)(k.Card,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-dark-100",children:"Workouts"}),(0,t.jsxs)("p",{className:"text-sm text-dark-400",children:[M.total_workouts," total workouts"]})]}),(0,t.jsx)(p.Button,{size:"sm",leftIcon:(0,t.jsx)(n.Plus,{className:"w-4 h-4"}),onClick:()=>q(!0),children:"Add Workout"})]}),M.workouts.length>0?(0,t.jsx)("div",{className:"space-y-3",children:M.workouts.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-dark-800/30 hover:bg-dark-800/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsxs)("span",{className:"text-sm text-primary-400",children:["Week ",e.week_number," • Day ",e.day_number]}),(0,t.jsx)(v.Badge,{size:"sm",className:f.intensityColors[e.intensity],children:f.intensityLabels[e.intensity]}),e.is_rest_day&&(0,t.jsx)(v.Badge,{size:"sm",variant:"default",children:"Rest"})]}),(0,t.jsx)("p",{className:"font-medium text-dark-100 truncate",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-dark-400",children:(0,f.formatDuration)(e.duration_minutes)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.Button,{variant:"ghost",size:"sm",className:"p-2",children:(0,t.jsx)(h.Edit,{className:"w-4 h-4"})}),(0,t.jsx)(p.Button,{variant:"ghost",size:"sm",className:"p-2 hover:text-accent-rose",onClick:()=>E({isOpen:!0,workout:e}),children:(0,t.jsx)(d.Trash2,{className:"w-4 h-4"})})]})]},e.id))}):(0,t.jsx)("div",{className:"text-center py-8 text-dark-400",children:(0,t.jsx)("p",{children:"No workouts yet. Add your first workout!"})})]})]}),(0,t.jsx)(_.Modal,{isOpen:W,onClose:()=>q(!1),title:"Add Workout",size:"md",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(x.Input,{label:"Title",placeholder:`Day ${M.workouts.length+1} Workout`,value:T.title,onChange:e=>G({...T,title:e.target.value})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(y.Select,{label:"Intensity",options:N,value:T.intensity,onChange:e=>G({...T,intensity:e.target.value})}),(0,t.jsx)(x.Input,{label:"Duration (min)",type:"number",value:T.duration_minutes,onChange:e=>G({...T,duration_minutes:parseInt(e.target.value)||30})})]}),(0,t.jsx)(x.Input,{label:"YouTube URL",placeholder:"https://youtube.com/watch?v=...",value:T.video_url,onChange:e=>G({...T,video_url:e.target.value})}),(0,t.jsx)(g.Checkbox,{label:"Rest Day",checked:T.is_rest_day,onChange:e=>G({...T,is_rest_day:e.target.checked})}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(p.Button,{variant:"secondary",className:"flex-1",onClick:()=>q(!1),children:"Cancel"}),(0,t.jsx)(p.Button,{className:"flex-1",onClick:$,children:"Add Workout"})]})]})}),(0,t.jsxs)(_.Modal,{isOpen:R.isOpen,onClose:()=>E({isOpen:!1,workout:null}),title:"Delete Workout",size:"sm",children:[(0,t.jsxs)("p",{className:"text-dark-400 mb-6",children:['Are you sure you want to delete "',R.workout?.title,'"?']}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(p.Button,{variant:"secondary",className:"flex-1",onClick:()=>E({isOpen:!1,workout:null}),children:"Cancel"}),(0,t.jsx)(p.Button,{variant:"danger",className:"flex-1",onClick:F,children:"Delete"})]})]})]}):(0,t.jsx)("div",{className:"p-6 lg:p-8",children:(0,t.jsxs)(k.Card,{className:"text-center py-16",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Program Not Found"}),(0,t.jsx)(i.default,{href:"/admin/programs",children:(0,t.jsx)(p.Button,{children:"Back to Programs"})})]})})}e.s(["default",()=>C])}]);