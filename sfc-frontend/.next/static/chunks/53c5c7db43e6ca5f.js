(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70756,e=>{"use strict";let t=(0,e.i(75254).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},9165,17595,e=>{"use strict";function t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}e.i(47167);var r=function e(r,a){function s(e,s,o){if("undefined"!=typeof document){"number"==typeof(o=t({},a,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var i in o)o[i]&&(n+="; "+i,!0!==o[i]&&(n+="="+o[i].split(";")[0]));return document.cookie=e+"="+r.write(s,e)+n}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],a={},s=0;s<t.length;s++){var o=t[s].split("="),n=o.slice(1).join("=");try{var i=decodeURIComponent(o[0]);if(a[i]=r.read(n,i),e===i)break}catch(e){}}return e?a[e]:a}},remove:function(e,r){s(e,"",t({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,t({},this.attributes,r))},withConverter:function(r){return e(t({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});async function a(e,t={}){let{token:s,...o}=t,n={"Content-Type":"application/json"};t.headers&&Object.assign(n,t.headers);let i=s||r.get("access_token");i&&(n.Authorization=`Bearer ${i}`);try{let t=await fetch(`http://localhost:8000/api/v1${e}`,{...o,headers:n}),r=await t.json().catch(()=>null);if(!t.ok){let e=r?.detail?.message||r?.detail||r?.message||"An error occurred",t=r?.detail?.code||r?.code;return{error:{message:e,code:t}}}return{data:r}}catch(e){return console.error("API request failed:",e),{error:{message:"Network error. Please check your connection."}}}}e.s(["default",()=>r],17595);let s=(e,t)=>a(e,{...t,method:"GET"}),o=(e,t,r)=>a(e,{...r,method:"POST",body:JSON.stringify(t)}),n=(e,t,r)=>a(e,{...r,method:"PUT",body:JSON.stringify(t)}),i=(e,t)=>a(e,{...t,method:"DELETE"});e.s(["adminApi",0,{listPrograms:e=>{let t=new URLSearchParams;e?.include_unpublished!==void 0&&t.append("include_unpublished",e.include_unpublished.toString()),e?.limit&&t.append("limit",e.limit.toString()),e?.offset&&t.append("offset",e.offset.toString());let r=t.toString();return s(`/admin/programs${r?`?${r}`:""}`)},createProgram:e=>o("/admin/programs",e),getProgram:e=>s(`/admin/programs/${e}`),updateProgram:(e,t)=>n(`/admin/programs/${e}`,t),deleteProgram:e=>i(`/admin/programs/${e}`),publishProgram:e=>o(`/admin/programs/${e}/publish`),unpublishProgram:e=>o(`/admin/programs/${e}/unpublish`),addWorkout:(e,t)=>o(`/admin/programs/${e}/workouts`,t),updateWorkout:(e,t)=>n(`/admin/workouts/${e}`,t),deleteWorkout:e=>i(`/admin/workouts/${e}`),getWorkout:e=>s(`/admin/workouts/${e}`)},"authApi",0,{signup:e=>o("/auth/signup",e),verifyOtp:e=>o("/auth/verify-otp",e),resendOtp:e=>o("/auth/resend-otp",e),signin:e=>o("/auth/signin",e),refresh:e=>o("/auth/refresh",e),logout:e=>o("/auth/logout",e),forgotPassword:e=>o("/auth/forgot-password",e),resetPassword:e=>o("/auth/reset-password",e),changePassword:e=>o("/auth/change-password",e),getMe:()=>s("/auth/me"),getStatus:()=>s("/auth/status")},"programsApi",0,{list:e=>{let t=new URLSearchParams;e?.goal&&t.append("goal",e.goal),e?.difficulty&&t.append("difficulty",e.difficulty),e?.featured&&t.append("featured","true"),e?.limit&&t.append("limit",e.limit.toString()),e?.offset&&t.append("offset",e.offset.toString());let r=t.toString();return s(`/programs${r?`?${r}`:""}`)},getFeatured:(e=6)=>s(`/programs/featured?limit=${e}`),getRecommended:(e=6)=>s(`/programs/recommended?limit=${e}`),getContinue:()=>s("/programs/continue"),getById:e=>s(`/programs/${e}`),enroll:e=>o(`/programs/${e}/enroll`),unenroll:e=>i(`/programs/${e}/enroll`),getProgress:e=>s(`/programs/${e}/progress`),getWorkoutsWithProgress:e=>s(`/programs/${e}/workouts`),markWorkoutComplete:(e,t)=>o(`/programs/workouts/${e}/complete`,t||{})},"userApi",0,{completeOnboarding:e=>o("/users/onboarding",e),getProfile:()=>s("/users/profile"),updateProfile:e=>n("/users/profile",e)}],9165)},18566,(e,t,r)=>{t.exports=e.r(76562)},35960,e=>{"use strict";let t,r,a;var s=e.i(71645);let o=e=>{let t,r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,o={setState:a,getState:s,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(a,s,o);return o},n=e=>{let t=e?o(e):o,r=e=>(function(e,t=e=>e){let r=s.default.useSyncExternalStore(e.subscribe,s.default.useCallback(()=>t(e.getState()),[e,t]),s.default.useCallback(()=>t(e.getInitialState()),[e,t]));return s.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},i=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>i(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>i(t)(e)}}};var c=e.i(17595),l=e.i(9165);let d=(t?n(t):n)((r=(e,t)=>({user:null,profile:null,isAuthenticated:!1,isLoading:!0,hasCompletedOnboarding:!1,setUser:t=>e({user:t,isAuthenticated:!!t}),setProfile:t=>e({profile:t,hasCompletedOnboarding:!!t?.onboarding_completed_at}),setLoading:t=>e({isLoading:t}),login:async(t,r,a=!1)=>{try{let{data:s,error:o}=await l.authApi.signin({email:t,password:r});if(o)return{success:!1,error:o.message};if(s){let t=a?30:1;c.default.set("access_token",s.access_token,{expires:t}),c.default.set("refresh_token",s.refresh_token,{expires:t});let r=await l.authApi.getStatus();if(r.data){if(e({user:r.data.user,isAuthenticated:!0,hasCompletedOnboarding:r.data.onboarding_completed}),r.data.onboarding_completed){let t=await l.userApi.getProfile();t.data&&e({profile:t.data})}return{success:!0,requiresOnboarding:!r.data.onboarding_completed}}}return{success:!1,error:"Login failed"}}catch{return{success:!1,error:"An unexpected error occurred"}}},signup:async(e,t,r)=>{try{let{data:a,error:s}=await l.authApi.signup({email:e,password:t,privacy_consent:r.privacy,data_processing_consent:r.dataProcessing,marketing_consent:r.marketing});if(s)return{success:!1,error:s.message};if(a)return{success:!0,userId:a.user_id};return{success:!1,error:"Signup failed"}}catch{return{success:!1,error:"An unexpected error occurred"}}},verifyOtp:async(t,r,a=!1)=>{try{let{data:s,error:o}=await l.authApi.verifyOtp({email:t,code:r});if(o)return{success:!1,error:o.message};if(s){let t=a?30:1;c.default.set("access_token",s.access_token,{expires:t}),c.default.set("refresh_token",s.refresh_token,{expires:t});let r=await l.authApi.getStatus();if(r.data)return e({user:r.data.user,isAuthenticated:!0,hasCompletedOnboarding:r.data.onboarding_completed}),{success:!0,requiresOnboarding:!r.data.onboarding_completed}}return{success:!1,error:"Verification failed"}}catch{return{success:!1,error:"An unexpected error occurred"}}},logout:async()=>{let t=c.default.get("refresh_token");t&&await l.authApi.logout({refresh_token:t}),c.default.remove("access_token"),c.default.remove("refresh_token"),e({user:null,profile:null,isAuthenticated:!1,hasCompletedOnboarding:!1})},refreshAuth:async()=>{let e=c.default.get("refresh_token");if(!e)return!1;try{let{data:r,error:a}=await l.authApi.refresh({refresh_token:e});if(a||!r)return t().logout(),!1;return c.default.set("access_token",r.access_token),c.default.set("refresh_token",r.refresh_token),!0}catch{return t().logout(),!1}},checkAuth:async()=>{if(e({isLoading:!0}),!c.default.get("access_token"))return void e({isLoading:!1});try{let{data:r,error:a}=await l.authApi.getStatus();if(a){if(await t().refreshAuth())return void await t().checkAuth();e({isLoading:!1});return}if(r&&(e({user:r.user,isAuthenticated:!0,hasCompletedOnboarding:r.onboarding_completed}),r.onboarding_completed)){let t=await l.userApi.getProfile();t.data&&e({profile:t.data})}}catch{t().logout()}finally{e({isLoading:!1})}}}),a={name:"sfc-auth",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated,hasCompletedOnboarding:e.hasCompletedOnboarding})},(e,t,s)=>{let o,n={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(a):a(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...a},c=!1,l=new Set,d=new Set,u=n.storage;if(!u)return r((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),e(...t)},t,s);let p=()=>{let e=n.partialize({...t()});return u.setItem(n.name,{state:e,version:n.version})},m=s.setState;s.setState=(e,t)=>(m(e,t),p());let h=r((...t)=>(e(...t),p()),t,s);s.getInitialState=()=>h;let g=()=>{var r,a;if(!u)return;c=!1,l.forEach(e=>{var r;return e(null!=(r=t())?r:h)});let s=(null==(a=n.onRehydrateStorage)?void 0:a.call(n,null!=(r=t())?r:h))||void 0;return i(u.getItem.bind(u))(n.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];else{if(n.migrate){let t=n.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(r=>{var a;let[s,i]=r;if(e(o=n.merge(i,null!=(a=t())?a:h),!0),s)return p()}).then(()=>{null==s||s(o,void 0),o=t(),c=!0,d.forEach(e=>e(o))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{n={...n,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>g(),hasHydrated:()=>c,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},n.skipHydration||g(),o||h}));e.s(["useAuthStore",0,d],35960)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},81418,e=>{"use strict";let t=(0,e.i(75254).default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],81418)},1111,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(22016),s=e.i(18566),o=e.i(46932),n=e.i(63488),i=e.i(70756),c=e.i(72520),l=e.i(81418);e.i(16787);var d=e.i(59544),u=e.i(3812),p=e.i(96359),m=e.i(39964),h=e.i(35960);function g(){let e=(0,s.useRouter)(),{signup:g}=(0,h.useAuthStore)(),[f,y]=(0,r.useState)({email:"",password:"",confirmPassword:"",privacyConsent:!1,dataProcessingConsent:!1,marketingConsent:!1}),[v,k]=(0,r.useState)({}),[w,b]=(0,r.useState)(!1),x=async t=>{let r;if(t.preventDefault(),r={},f.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)||(r.email="Please enter a valid email"):r.email="Email is required",f.password?f.password.length<8&&(r.password="Password must be at least 8 characters"):r.password="Password is required",f.password!==f.confirmPassword&&(r.confirmPassword="Passwords do not match"),f.privacyConsent||(r.privacyConsent="You must accept the privacy policy"),f.dataProcessingConsent||(r.dataProcessingConsent="You must accept data processing terms"),k(r),0!==Object.keys(r).length)return;b(!0);let a=await g(f.email,f.password,{privacy:f.privacyConsent,dataProcessing:f.dataProcessingConsent,marketing:f.marketingConsent});a.success?e.push(`/verify-otp?email=${encodeURIComponent(f.email)}`):k({form:a.error||"Something went wrong"}),b(!1)};return(0,t.jsx)(o.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,t.jsxs)(m.Card,{className:"p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-display font-bold text-dark-100",children:"Create Account"}),(0,t.jsx)("p",{className:"text-dark-400 mt-2",children:"Start your transformation journey today"})]}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-5",children:[v.form&&(0,t.jsx)(o.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-accent-rose/10 border border-accent-rose/20",children:(0,t.jsx)("p",{className:"text-sm text-accent-rose",children:v.form})}),(0,t.jsx)(u.Input,{type:"email",label:"Email",placeholder:"you@example.com",value:f.email,onChange:e=>y({...f,email:e.target.value}),leftIcon:(0,t.jsx)(n.Mail,{className:"w-5 h-5"}),error:v.email,required:!0}),(0,t.jsx)(u.Input,{type:"password",label:"Password",placeholder:"Create a strong password",value:f.password,onChange:e=>y({...f,password:e.target.value}),leftIcon:(0,t.jsx)(i.Lock,{className:"w-5 h-5"}),error:v.password,helperText:"At least 8 characters",required:!0}),(0,t.jsx)(u.Input,{type:"password",label:"Confirm Password",placeholder:"Confirm your password",value:f.confirmPassword,onChange:e=>y({...f,confirmPassword:e.target.value}),leftIcon:(0,t.jsx)(i.Lock,{className:"w-5 h-5"}),error:v.confirmPassword,required:!0}),(0,t.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[(0,t.jsx)(l.ShieldCheck,{className:"w-5 h-5 text-primary-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-sm text-dark-300",children:"Your data is protected and secure"})]}),(0,t.jsx)(p.Checkbox,{label:(0,t.jsxs)("span",{children:["I agree to the"," ",(0,t.jsx)(a.default,{href:"/privacy",className:"text-primary-400 hover:underline",children:"Privacy Policy"})]}),checked:f.privacyConsent,onChange:e=>y({...f,privacyConsent:e.target.checked}),error:v.privacyConsent}),(0,t.jsx)(p.Checkbox,{label:"I consent to the processing of my personal data for the service",checked:f.dataProcessingConsent,onChange:e=>y({...f,dataProcessingConsent:e.target.checked}),error:v.dataProcessingConsent}),(0,t.jsx)(p.Checkbox,{label:"I'd like to receive updates and promotional emails (optional)",checked:f.marketingConsent,onChange:e=>y({...f,marketingConsent:e.target.checked})})]}),(0,t.jsx)(d.Button,{type:"submit",className:"w-full",size:"lg",isLoading:w,rightIcon:(0,t.jsx)(c.ArrowRight,{className:"w-5 h-5"}),children:"Create Account"})]}),(0,t.jsxs)("p",{className:"text-center mt-6 text-dark-400",children:["Already have an account?"," ",(0,t.jsx)(a.default,{href:"/login",className:"text-primary-400 hover:text-primary-300 font-medium transition-colors",children:"Sign in"})]})]})})}e.s(["default",()=>g])}]);