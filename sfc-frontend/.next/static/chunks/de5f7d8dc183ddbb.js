(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},7233,27612,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],7233);let s=(0,t.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>s],27612)},66505,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),i=e.i(22016),r=e.i(46932),l=e.i(71689),n=e.i(7233),d=e.i(27612);let o=(0,e.i(75254).default)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var c=e.i(56909);e.i(16787);var u=e.i(59544),m=e.i(3812),p=e.i(67073),h=e.i(39964),x=e.i(96359),y=e.i(9165),g=e.i(75157);let v=Object.entries(g.goalLabels).map(([e,t])=>({value:e,label:t})),_=Object.entries(g.difficultyLabels).map(([e,t])=>({value:e,label:t})),b=Object.entries(g.intensityLabels).map(([e,t])=>({value:e,label:t}));function k(){let e=(0,s.useRouter)(),[g,k]=(0,a.useState)(!1),[j,f]=(0,a.useState)(""),[w,N]=(0,a.useState)({title:"",description:"",thumbnail_url:"",goal:"general_fitness",difficulty:"beginner",equipment_needed:"",duration_weeks:4,days_per_week:3,minutes_per_session:30,is_featured:!1}),[C,D]=(0,a.useState)([]),I=e=>{N(t=>({...t,...e}))},M=(e,t)=>{D(a=>a.map(a=>a.id===e?{...a,...t}:a))},S=async t=>{if(t.preventDefault(),f(""),!w.title)return void f("Program title is required");k(!0);let a=C.map(e=>({week_number:e.week_number,day_number:e.day_number,title:e.title,description:e.description||void 0,intensity:e.intensity,duration_minutes:e.duration_minutes,video_url:e.video_url||"https://www.youtube.com/watch?v=dQw4w9WgXcQ",video_title:e.video_title||void 0,is_rest_day:e.is_rest_day})),{data:s,error:i}=await y.adminApi.createProgram({title:w.title,description:w.description||void 0,thumbnail_url:w.thumbnail_url||void 0,goal:w.goal,difficulty:w.difficulty,equipment_needed:w.equipment_needed?w.equipment_needed.split(",").map(e=>e.trim()):void 0,duration_weeks:w.duration_weeks,days_per_week:w.days_per_week,minutes_per_session:w.minutes_per_session,is_featured:w.is_featured,workouts:a.length>0?a:void 0});i?f(i.message):s&&e.push(`/admin/programs/${s.id}`),k(!1)};return(0,t.jsxs)("div",{className:"p-6 lg:p-8 max-w-4xl mx-auto",children:[(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,t.jsxs)(i.default,{href:"/admin/programs",className:"inline-flex items-center gap-2 text-dark-400 hover:text-white transition-colors mb-4",children:[(0,t.jsx)(l.ArrowLeft,{className:"w-5 h-5"}),"Back to Programs"]}),(0,t.jsx)("h1",{className:"text-3xl font-display font-bold text-dark-100",children:"Create New Program"}),(0,t.jsx)("p",{className:"text-dark-400 mt-1",children:"Set up a new fitness program with workouts"})]}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-8",children:[j&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-accent-rose/10 border border-accent-rose/20",children:(0,t.jsx)("p",{className:"text-sm text-accent-rose",children:j})}),(0,t.jsxs)(h.Card,{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-dark-100 mb-6",children:"Program Details"}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsx)(m.Input,{label:"Title",placeholder:"e.g., 30-Day Fat Burn Challenge",value:w.title,onChange:e=>I({title:e.target.value}),required:!0}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:w.description,onChange:e=>I({description:e.target.value}),placeholder:"Describe what participants will achieve...",className:"w-full px-4 py-3 rounded-xl bg-dark-800/50 border border-dark-600 text-dark-100 placeholder-dark-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all resize-none h-24"})]}),(0,t.jsx)(m.Input,{label:"Thumbnail URL (optional)",placeholder:"https://example.com/image.jpg",value:w.thumbnail_url,onChange:e=>I({thumbnail_url:e.target.value})}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-5",children:[(0,t.jsx)(p.Select,{label:"Goal",options:v,value:w.goal,onChange:e=>I({goal:e.target.value})}),(0,t.jsx)(p.Select,{label:"Difficulty",options:_,value:w.difficulty,onChange:e=>I({difficulty:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-3 gap-5",children:[(0,t.jsx)(m.Input,{label:"Duration (weeks)",type:"number",min:1,max:52,value:w.duration_weeks,onChange:e=>I({duration_weeks:parseInt(e.target.value)||1})}),(0,t.jsx)(m.Input,{label:"Days per Week",type:"number",min:1,max:7,value:w.days_per_week,onChange:e=>I({days_per_week:parseInt(e.target.value)||1})}),(0,t.jsx)(m.Input,{label:"Minutes per Session",type:"number",min:5,max:180,value:w.minutes_per_session,onChange:e=>I({minutes_per_session:parseInt(e.target.value)||30})})]}),(0,t.jsx)(m.Input,{label:"Equipment Needed (comma-separated)",placeholder:"e.g., Dumbbells, Resistance Bands, Mat",value:w.equipment_needed,onChange:e=>I({equipment_needed:e.target.value})}),(0,t.jsx)(x.Checkbox,{label:"Mark as Featured",checked:w.is_featured,onChange:e=>I({is_featured:e.target.checked})})]})]}),(0,t.jsxs)(h.Card,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-dark-100",children:"Workouts"}),(0,t.jsx)("p",{className:"text-sm text-dark-400",children:"Add workouts to this program"})]}),(0,t.jsx)(u.Button,{type:"button",variant:"secondary",size:"sm",leftIcon:(0,t.jsx)(n.Plus,{className:"w-4 h-4"}),onClick:()=>{let e=C.length+1,t=Math.ceil(e/w.days_per_week);D(a=>[...a,{id:`workout-${Date.now()}`,week_number:t,day_number:e,title:`Day ${e} Workout`,description:"",intensity:"medium",duration_minutes:w.minutes_per_session,video_url:"",video_title:"",is_rest_day:!1}])},children:"Add Workout"})]}),C.length>0?(0,t.jsx)("div",{className:"space-y-4",children:C.map((e,a)=>(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-800/30 border border-dark-700",children:(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)(o,{className:"w-5 h-5 text-dark-500 mt-2 cursor-grab"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-primary-400",children:["Week ",e.week_number," â€¢ Day ",e.day_number]}),e.is_rest_day&&(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-dark-700 text-dark-400",children:"Rest Day"})]}),(0,t.jsx)(m.Input,{placeholder:"Workout title",value:e.title,onChange:t=>M(e.id,{title:t.target.value}),className:"mb-3"}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-3 gap-3 mb-3",children:[(0,t.jsx)(p.Select,{options:b,value:e.intensity,onChange:t=>M(e.id,{intensity:t.target.value})}),(0,t.jsx)(m.Input,{type:"number",placeholder:"Duration (min)",value:e.duration_minutes,onChange:t=>M(e.id,{duration_minutes:parseInt(t.target.value)||30})}),(0,t.jsx)(x.Checkbox,{label:"Rest Day",checked:e.is_rest_day,onChange:t=>M(e.id,{is_rest_day:t.target.checked})})]}),(0,t.jsx)(m.Input,{placeholder:"YouTube Video URL",value:e.video_url,onChange:t=>M(e.id,{video_url:t.target.value})})]}),(0,t.jsx)(u.Button,{type:"button",variant:"ghost",size:"sm",className:"p-2 hover:text-accent-rose",onClick:()=>{var t;return t=e.id,void D(e=>e.filter(e=>e.id!==t).map((e,t)=>({...e,day_number:t+1,week_number:Math.ceil((t+1)/w.days_per_week)})))},children:(0,t.jsx)(d.Trash2,{className:"w-4 h-4"})})]})},e.id))}):(0,t.jsxs)("div",{className:"text-center py-8 text-dark-400",children:[(0,t.jsx)("p",{children:"No workouts added yet."}),(0,t.jsx)("p",{className:"text-sm",children:'Click "Add Workout" to start building your program.'})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,t.jsx)(i.default,{href:"/admin/programs",children:(0,t.jsx)(u.Button,{variant:"ghost",children:"Cancel"})}),(0,t.jsx)(u.Button,{type:"submit",isLoading:g,leftIcon:(0,t.jsx)(c.Save,{className:"w-5 h-5"}),children:"Create Program"})]})]})]})}e.s(["default",()=>k],66505)}]);